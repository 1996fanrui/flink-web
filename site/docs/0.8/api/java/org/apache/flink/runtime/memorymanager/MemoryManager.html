<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Jan 21 17:58:06 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MemoryManager (Apache Flink 0.8-SNAPSHOT API)</title>
<meta name="date" content="2015-01-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MemoryManager (Apache Flink 0.8-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemoryManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><a href=/docs/0.8/ target=_top><h1>Back to Flink Documentation</h1></a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryAllocationException.html" title="class in org.apache.flink.runtime.memorymanager"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/memorymanager/SimpleMemorySegment.html" title="class in org.apache.flink.runtime.memorymanager"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/memorymanager/MemoryManager.html" target="_top">Frames</a></li>
<li><a href="MemoryManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.runtime.memorymanager</div>
<h2 title="Interface MemoryManager" class="title">Interface MemoryManager</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/apache/flink/runtime/memorymanager/DefaultMemoryManager.html" title="class in org.apache.flink.runtime.memorymanager">DefaultMemoryManager</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">MemoryManager</span></pre>
<div class="block">Interface for a memory manager that assigns portions of memory to different tasks. Each allocated segment of
 memory is specific to a task. Memory segments can be freed individually, or all memory allocated by a task can 
 be freed as a whole.
 <p>
 Internally, memory is represented as byte arrays. The memory manager acts like a distributer for memory, which
 means it assigns portions of the arrays to tasks. If memory is released, it means that this part of the memory can
 be assigned to other tasks.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#allocatePages(org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable,%20int)">allocatePages</a></strong>(<a href="../../../../../org/apache/flink/runtime/jobgraph/tasks/AbstractInvokable.html" title="class in org.apache.flink.runtime.jobgraph.tasks">AbstractInvokable</a>&nbsp;owner,
             int&nbsp;numPages)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#allocatePages(org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable,%20java.util.List,%20int)">allocatePages</a></strong>(<a href="../../../../../org/apache/flink/runtime/jobgraph/tasks/AbstractInvokable.html" title="class in org.apache.flink.runtime.jobgraph.tasks">AbstractInvokable</a>&nbsp;owner,
             <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&gt;&nbsp;target,
             int&nbsp;numPages)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#computeMemorySize(double)">computeMemorySize</a></strong>(double&nbsp;fraction)</code>
<div class="block">Computes the memory size of the fraction per slot.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#computeNumberOfPages(double)">computeNumberOfPages</a></strong>(double&nbsp;fraction)</code>
<div class="block">Computes to how many pages the given number of bytes corresponds.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#getMemorySize()">getMemorySize</a></strong>()</code>
<div class="block">Returns the total size of memory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#getPageSize()">getPageSize</a></strong>()</code>
<div class="block">Gets the size of the pages handled by the memory manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&gt;&nbsp;<br>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#release(java.util.Collection)">release</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;&nbsp;segments)</code>
<div class="block">Tries to release the memory for the specified collection of segments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#release(org.apache.flink.core.memory.MemorySegment)">release</a></strong>(<a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&nbsp;segment)</code>
<div class="block">Tries to release the memory for the specified segment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#releaseAll(org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable)">releaseAll</a></strong>(<a href="../../../../../org/apache/flink/runtime/jobgraph/tasks/AbstractInvokable.html" title="class in org.apache.flink.runtime.jobgraph.tasks">AbstractInvokable</a>&nbsp;task)</code>
<div class="block">Releases all memory segments for the given task.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#roundDownToPageSizeMultiple(long)">roundDownToPageSizeMultiple</a></strong>(long&nbsp;numBytes)</code>
<div class="block">Rounds the given value down to a multiple of the memory manager's page size.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#shutdown()">shutdown</a></strong>()</code>
<div class="block">Shuts the memory manager down, trying to release all the memory it managed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryManager.html#verifyEmpty()">verifyEmpty</a></strong>()</code>
<div class="block">Checks if the memory manager all memory available and the descriptors of the free segments
 describe a contiguous memory layout.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="allocatePages(org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocatePages</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&gt;&nbsp;allocatePages(<a href="../../../../../org/apache/flink/runtime/jobgraph/tasks/AbstractInvokable.html" title="class in org.apache.flink.runtime.jobgraph.tasks">AbstractInvokable</a>&nbsp;owner,
                                int&nbsp;numPages)
                                  throws <a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryAllocationException.html" title="class in org.apache.flink.runtime.memorymanager">MemoryAllocationException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryAllocationException.html" title="class in org.apache.flink.runtime.memorymanager">MemoryAllocationException</a></code></dd></dl>
</li>
</ul>
<a name="allocatePages(org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable, java.util.List, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocatePages</h4>
<pre>void&nbsp;allocatePages(<a href="../../../../../org/apache/flink/runtime/jobgraph/tasks/AbstractInvokable.html" title="class in org.apache.flink.runtime.jobgraph.tasks">AbstractInvokable</a>&nbsp;owner,
                 <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&gt;&nbsp;target,
                 int&nbsp;numPages)
                   throws <a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryAllocationException.html" title="class in org.apache.flink.runtime.memorymanager">MemoryAllocationException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryAllocationException.html" title="class in org.apache.flink.runtime.memorymanager">MemoryAllocationException</a></code></dd></dl>
</li>
</ul>
<a name="release(org.apache.flink.core.memory.MemorySegment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>void&nbsp;release(<a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&nbsp;segment)</pre>
<div class="block">Tries to release the memory for the specified segment. If the <code>segment</code> has already been released or
 is <code>null</code>, the request is simply ignored. If the segment is not from the expected
 MemorySegment implementation type, an <code>IllegalArgumentException</code> is thrown.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>segment</code> - The segment to be released.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - Thrown, if the given segment is of an incompatible type.</dd></dl>
</li>
</ul>
<a name="release(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>&lt;T extends <a href="../../../../../org/apache/flink/core/memory/MemorySegment.html" title="class in org.apache.flink.core.memory">MemorySegment</a>&gt;&nbsp;void&nbsp;release(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;T&gt;&nbsp;segments)</pre>
<div class="block">Tries to release the memory for the specified collection of segments.</div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - The type of memory segment.</dd><dt><span class="strong">Parameters:</span></dt><dd><code>segments</code> - The segments to be released.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - Thrown, if the given collection is null.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - Thrown, id the segments are of an incompatible type.</dd></dl>
</li>
</ul>
<a name="releaseAll(org.apache.flink.runtime.jobgraph.tasks.AbstractInvokable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseAll</h4>
<pre>void&nbsp;releaseAll(<a href="../../../../../org/apache/flink/runtime/jobgraph/tasks/AbstractInvokable.html" title="class in org.apache.flink.runtime.jobgraph.tasks">AbstractInvokable</a>&nbsp;task)</pre>
<div class="block">Releases all memory segments for the given task.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>task</code> - The task whose memory segments are to be released.</dd></dl>
</li>
</ul>
<a name="getPageSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageSize</h4>
<pre>int&nbsp;getPageSize()</pre>
<div class="block">Gets the size of the pages handled by the memory manager.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The size of the pages handled by the memory manager.</dd></dl>
</li>
</ul>
<a name="getMemorySize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMemorySize</h4>
<pre>long&nbsp;getMemorySize()</pre>
<div class="block">Returns the total size of memory.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The total size of memory.</dd></dl>
</li>
</ul>
<a name="computeNumberOfPages(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeNumberOfPages</h4>
<pre>int&nbsp;computeNumberOfPages(double&nbsp;fraction)</pre>
<div class="block">Computes to how many pages the given number of bytes corresponds. If the given number of bytes is not an
 exact multiple of a page size, the result is rounded down, such that a portion of the memory (smaller
 than the page size) is not included.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fraction</code> - the fraction of the total memory per slot</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of pages to which</dd></dl>
</li>
</ul>
<a name="computeMemorySize(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeMemorySize</h4>
<pre>long&nbsp;computeMemorySize(double&nbsp;fraction)</pre>
<div class="block">Computes the memory size of the fraction per slot.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fraction</code> - The fraction of the memory of the task slot.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of pages corresponding to the memory fraction.</dd></dl>
</li>
</ul>
<a name="roundDownToPageSizeMultiple(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>roundDownToPageSizeMultiple</h4>
<pre>long&nbsp;roundDownToPageSizeMultiple(long&nbsp;numBytes)</pre>
<div class="block">Rounds the given value down to a multiple of the memory manager's page size.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The given value, rounded down to a multiple of the page size.</dd></dl>
</li>
</ul>
<a name="shutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>void&nbsp;shutdown()</pre>
<div class="block">Shuts the memory manager down, trying to release all the memory it managed. Depending
 on implementation details, the memory does not necessarily become reclaimable by the
 garbage collector, because there might still be references to allocated segments in the
 code that allocated them from the memory manager.</div>
</li>
</ul>
<a name="verifyEmpty()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>verifyEmpty</h4>
<pre>boolean&nbsp;verifyEmpty()</pre>
<div class="block">Checks if the memory manager all memory available and the descriptors of the free segments
 describe a contiguous memory layout.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True, if the memory manager is empty and valid, false if it is not empty or corrupted.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemoryManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><a href=/docs/0.8/ target=_top><h1>Back to Flink Documentation</h1></a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/memorymanager/MemoryAllocationException.html" title="class in org.apache.flink.runtime.memorymanager"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/flink/runtime/memorymanager/SimpleMemorySegment.html" title="class in org.apache.flink.runtime.memorymanager"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/memorymanager/MemoryManager.html" target="_top">Frames</a></li>
<li><a href="MemoryManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
